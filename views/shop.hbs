<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>
<div class="container mt-5">
    <div class="row">
        <section class="main col-md-9">
            {{#if data.item}}
            <item>
                <div class="row">
                    <div class="col-4">
                        <h2>{{data.item.title}}</h2>
                        <img src="{{data.item.featureImage}}" alt="feature Image" style="width:100%">
                    </div>
                    <div class="col-8">
                        <br>
                        <br>
                        <div class="row">
                            <div class="col-12">
                                {{#safeHTML data.item.body}}{{/safeHTML}}
                                <br><br>
                                <strong>Price:</strong> ${{data.item.price}}<br>
                                <strong>Category:</strong> {{data.item.category}}<br>
                                <strong>Last Updated:</strong> {{data.item.postDate}}
                            </div>
                        </div>
                    </div>
                </div>
            </item>
            {{else}}
            <div class="col-md-12 text-center">
                <h2>{{data.message}}</h2>
                <p>Please try another Item / Category</p>
            </div>
            {{/if}}
        </section>

        <aside class="col-md-3">
            {{#if data.items}}
            <br><br>
            <h4>Items</h4>
            <ul class="list-group">
                {{#each data.items}}
                <a href="/shop/{{this.id}}?category={{../viewingCategory}}" class="list-group-item">{{this.title}}</a>
                {{/each}}
            </ul>
            {{/if}}

            {{#if data.categories}}
            <h4>Categories</h4>
            <ul class="list-group">
                {{#each data.categories}}
                <a href="/shop?category={{this.id}}" class="list-group-item">{{this.category}}</a>
                {{/each}}
            </ul>
            {{/if}}
        </aside>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>
